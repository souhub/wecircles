{{define "content"}}

<div>
  <h2 class="text-center">{{.Name}}</h2>
  <p>
    {{if eq .ImagePath "default.png"}}
    <!-- if user.ImagePath=="default.png" -->
    <img
      src="/static/img/default.png"
      alt="user_profile_image"
      style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover"
    />
    {{else}}
    <img
      src="/static/img/user{{.ID}}/{{.ImagePath}}"
      alt="user_profile_image"
      style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover"
    />
    {{end}}
  </p>
</div>

{{if .Posts}} {{range .Posts}}
<div class="card mx-auto mb-5">
  <a href="/post/show?id={{.Uuid}}">
    {{if eq .ThumbnailPath "default_thumbnail.jpg"}}
    <img
      src="/static/img/{{.ThumbnailPath}}"
      style="width: 100%; height: 300px; object-fit: cover"
      alt="default thumbnail"
    />
    {{else}}
    <img
      src="/static/img/user{{.UserId}}/posts/post{{.Id}}/{{.ThumbnailPath}}"
      style="width: 100%; height: 300px; object-fit: cover"
      alt="default thumbnail"
    />
    {{end}}
    <div class="card-body">
      {{if .Title}}
      <h5 class="card-title">{{.Title}}</h5>
      {{else}}
      <h5 class="card-title">NO TITLE</h5>
      {{end}} {{if .Body}}
      <div style="width: 100%; overflow: hidden">
        <p
          class="card-text index-post-body;"
          style="
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 3;
          "
        >
          {{.Body}}
        </p>
      </div>
      {{else}}
      <p class="card-text">本文がありません。</p>
      {{end}}
    </div>
    <div class="card-body">
      <a href="/user?id={{.UserIdStr}}">{{.UserIdStr}}</a>
      <p>{{.CreatedAt}}</p>
    </div>
  </a>
</div>
{{end}} {{else}}
<p class="text-center">まだ投稿がありません。</p>
{{end}} {{end}}
